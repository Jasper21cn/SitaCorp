<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript</title>
</head>
<body>
<p><pre>
1.Singleton constructor
Ex：use “new” keyword is create new instance;
Var instance1 = new Singleton();
Var instance2 = new Singleton();
Console.log(instance1 == instance2);
</pre></p>
<p id="q1"></p>

<script>
    var Singleton = (function(){
        var instance;

        function createInstance(){
            var obj = new Object("My Value.");
            return obj;
        }

        return {
            getInstance : function(){
                if(!instance){
                    instance = createInstance();
                }
                return instance;
            }
        }
    })();
    var instance1 = Singleton.getInstance();
    var instance2 = Singleton.getInstance();
    document.getElementById("q1").innerHTML = (instance1 === instance2).toString();
</script>

<p><pre>2.Common way to implementation Singleton</pre></p>
<p id="q2"></p>

<p><pre>
3. Given an array of size n, find the majority element. The majority element is the element that appears more than ⌊ n/2 ⌋ times.
You may assume that the array is non-empty and the majority element always exist in the array.
</pre></p>
<p id="q3"></p>

<script>
    var testArr = [87, 5, 0, 5, 13, 5, 5, 5, 1, 5, 5];
    function findMajor(arr) {
        var myArr = [];
        for(var i=0; i<arr.length; i++){
            var count = 0;
            for(var j=i; j<arr.length-i;j++){
                if(arr[i]==arr[j]) count++;
            }
            if(count>arr.length/2){
                myArr.push(arr[i]);
            }
        }
        return myArr;
    }
    document.getElementById("q3").innerHTML = "[" + testArr + "]<br />Majority element/s: " + findMajor(testArr);
</script>

<p><pre>
4.Given an array containing n distinct numbers taken from 0, 1, 2, ..., n, find the one that is missing from the array.
For example,
Given nums = [0, 1, 3] return 2.
</pre></p>
<p id="q4"></p>

<script>
    var missingArr = [0, 1, 3];
    function findMissing(arr){
        var sum1 = 0;
        for(var i=0; i<arr.length; i++){
            sum1 += arr[i];
        }
        var sum2 = (arr.length+1) * (arr[0] + arr[arr.length-1]) / 2;
        return (sum2 - sum1);
    }
    document.getElementById("q4").innerHTML = "[" + missingArr + "]<br />Missing " + findMissing(missingArr);
</script>

<p>5.</p>
<p id="q5"></p>

<script>
    var table = document.createElement("table");
    var tbody = document.createElement("tbody");
    table.appendChild(tbody);

    for(var i=0; i<2; i++){
        tbody.insertRow(i);
        for(var j=0; j<3; j++){
            tbody.rows[i].insertCell(j);
            tbody.rows[i].cells[j].style.width = "10em";
            tbody.rows[i].cells[j].style.height = "5em";
            tbody.rows[i].cells[j].style.border = "1px solid black";
        }
    }

    tbody.rows[0].cells[0].style.backgroundColor = "white";
    tbody.rows[0].cells[1].style.backgroundColor = "purple";
    tbody.rows[0].cells[2].style.backgroundColor = "purple";
    tbody.rows[1].cells[0].style.backgroundColor = "red";
    tbody.rows[1].cells[1].style.backgroundColor = "yellow";
    tbody.rows[1].cells[2].style.backgroundColor = "pink";

    tbody.rows[0].cells[0].appendChild(document.createTextNode("Q"));
    tbody.rows[0].cells[1].appendChild(document.createTextNode("Y"));
    tbody.rows[0].cells[2].appendChild(document.createTextNode("A"));
    tbody.rows[1].cells[0].appendChild(document.createTextNode("Q"));
    tbody.rows[1].cells[1].appendChild(document.createTextNode("M"));
    tbody.rows[1].cells[2].appendChild(document.createTextNode("O"));

    table.style.border = "1px solid black";
    table.style.borderCollapse = "collapse";

    document.getElementById("q5").appendChild(table);

</script>
</body>
</html>