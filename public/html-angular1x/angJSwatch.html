<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AngularJS $watch</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
</head>
<body>

<div ng-app="myApp">
    <div ng-controller="firstController">
        <input type="text" value="" ng-model="name" />
        change count: {{ count }} - {{ name }}
        <br />
        <br />
        <button ng-click="reset()">Reset</button>
    </div>
</div>

<script>
    app = angular.module("myApp", []);
    app.controller("firstController", function ($scope){
        $scope.name = '';
        $scope.count = 0;
        $scope.$watch('name', function (newValue, oldValue) {
            $scope.count++;
            if($scope.count>30){
                $scope.count -= 1;
                $scope.name = 'Too long!';
            }
        });
        $scope.reset = function () {
            $scope.name = '';
            $scope.count = 0;
        }
    });
</script>
</body>
</html>